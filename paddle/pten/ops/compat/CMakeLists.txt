set(arg_mapping_fns_header ${PADDLE_BINARY_DIR}/paddle/pten/ops/compat/signatures.h.tmp CACHE INTERNAL "op_args_fns.cc file")
set(arg_mapping_fns_header_final ${PADDLE_BINARY_DIR}/paddle/pten/ops/compat/signatures.h)
file(WRITE ${arg_mapping_fns_header} "// Generated by the paddle/pten/ops/compat/CMakeLists.txt.  DO NOT EDIT!\n\n")
file(APPEND ${arg_mapping_fns_header} "#include \"paddle/pten/core/op_utils.h\"\n\n")

# Automatically generate the registration code of all arg map functions
# and compile the corresponding target to avoid frequent code conflicts
# when writing to same file
register_arg_mapping_fns(op_arg_mapping_fns DEPS op_utils)

copy_if_different(${arg_mapping_fns_header} ${arg_mapping_fns_header_final})
